codec: |
  function Decode(fPort, data, variables) {
    var values = [];
    
    if (fPort === 2 && data.length >= 8) {
    
      var batteryRaw = (data[0] << 8) | data[1];
      var interruptPin = data[4];
      var sensorFlag = data[7];
      
      var distanceRaw = (data[2] << 8) | data[3];
      var distanceValue;
      if (distanceRaw === 0x0000) {
        distanceValue = 0;
      } else if (distanceRaw < 0x001E) {
        distanceValue = 0;
      } else {
        distanceValue = distanceRaw;
      }

      values.push({ name: "BatteryVoltage", channel: 1, value: batteryRaw / 1000 });
      values.push({ name: "Distance", channel: 2, value: distanceValue});
      values.push({ name: "InterruptPin", channel: 3, value: interruptPin });
      values.push({ name: "SensorFlag", channel: 4, value: sensorFlag });
    }
    
    return values;
  }

  function Encode(data, variables) {
    var bytes = [];
    return bytes;
  }

  function decodeUplink(input) {
    return {
      data: Decode(input.fPort, input.bytes, input.variables)
    };
  }

  function encodeDownlink(input) {
    return {
      bytes: Encode(input.data, input.variables)
    };
  }

datatype:
  "1":
    name: Battery Voltage
    type: AnalogInputObject
    units: volts

  "2":
    name: Distance
    type: AnalogInputObject
    units: millimeters
  "3":
    name: Interrupt Pin
    type: AnalogInputObject
  "4":
    name: Sensor Flag
    type: AnalogInputObject

lorawan:
  adrAlgorithm: LoRa Only # Optional Default: LoRa Only
  classCDownlinkTimeout: 5 # Optional Default: 5
  macVersion: LORAWAN_1_0_3
  region: AS923
  regionalParametersRevision: A
  supportClassB: false
  supportClassC: false

model: Dragino-DDS45
profileVersion: 1.0.0
name: DDS45-LB/LS
vendor: RAKwireless
id: 5a8d6f4e-2b3c-4d9e-8f7a-1b6c9d0e3f2a