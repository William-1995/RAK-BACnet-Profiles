name: Senso8-LRS20100
model: LRS20100
vendor: Senso8
profileVersion: 1.0.0
lorawan:
  adrAlgorithm: LoRa Only
  classCDownlinkTimeout: 5
  macVersion: LORAWAN_1_0_3
  regionalParametersRevision: A
  supportClassB: false
  supportClassC: false
  supportOTAA: true
codec: |
  function Decode(fPort, data, variables) {
    var values = [];
    
    if (fPort === 10 && data.length >= 8) {
    
      var temperatureRaw = (data[0] << 8) | data[1];
      var humidityRaw = (data[2] << 8) | data[3];
      var co2Raw = (data[4] << 8) | data[5];
      var batteryRaw = (data[6] << 8) | data[7];
      
      var temperatureValue = temperatureRaw / 10.0;
      var humidityValue = humidityRaw / 10.0;
      var co2Value = co2Raw;
      var batteryValue = batteryRaw;
      
      values.push({ name: "Temperature", channel: 1, value: temperatureValue, unit: "Â°C" });
      values.push({ name: "Humidity", channel: 2, value: humidityValue, unit: "%" });
      values.push({ name: "CO2 Concentration", channel: 3, value: co2Value, unit: "ppm" });
      values.push({ name: "Battery Voltage", channel: 4, value: batteryValue, unit: "mV" });
    }
    
    return values;
  }

  function Encode(data, variables) {
    var bytes = [];
    return bytes;
  }

  function decodeUplink(input) {
    return {
      data: Decode(input.fPort, input.bytes, input.variables)
    };
  }

  function encodeDownlink(input) {
    return {
      bytes: Encode(input.data, input.variables)
    };
  }
datatype:
  "1":
    name: Temperature
    type: AnalogInputObject
    units: degrees Celsius

  "2":
    name: Humidity
    type: AnalogInputObject
    units: percent

  "3":
    name: CO2 Concentration
    type: AnalogInputObject
    units: parts per million

  "4":
    name: Battery Voltage
    type: AnalogInputObject
    units: millivolts